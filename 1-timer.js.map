{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["\"use strict\"\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nlet userSelectedDate = null;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        \n        if (Date.now() >= selectedDates[0]) {\n            inactiveStartBtn()\n            iziToast.error({\n                message: 'Please choose a date in the future',\n                position: 'topCenter',\n                color: 'red',\n                messageColor: \"black\",\n                close: false,\n                timeout: 4000,\n                progressBar: false\n            });\n        }\n        else {\n            startBtn.style.backgroundColor = \"#4e75ff\";\n            startBtn.style.color = \"#fff\";\n            startBtn.style.pointerEvents = \"auto\";\n            userSelectedDate = selectedDates[0];\n            startBtn.disabled = false\n            }\n    },\n    \n};\n\nflatpickr(\"#datetime-picker\", options);\n\n\n\nconst startBtn = document.querySelector(\"button[data-start]\");\nstartBtn.addEventListener(\"click\", timer)\nconst input = document.querySelector('#datetime-picker');\n\n\nfunction inactiveStartBtn() {\n    startBtn.style.backgroundColor = \"#cfcfcf\";\n    startBtn.style.color = \"#989898\";\n    startBtn.style.pointerEvents = \"none\";\n}\n\n\nlet intervalId = null;\n\nfunction timer() {\n    inactiveStartBtn()\n    input.disabled = true;  \n    let endTimer = userSelectedDate.getTime();\n    let startTimer = Date.now();\n    let stopTimer = endTimer - startTimer;\n    intervalId = setInterval(() => {\n        stopTimer -= 1000\n        convertMs(stopTimer);\n        if (stopTimer < 1000) {\n        iziToast.error({\n            message: 'Timer has expired ',\n            position: 'topCenter',\n            color: 'green',\n            messageColor: \"black\",\n            close: false,\n            timeout: 4000,\n            progressBar: false\n        });\n            clearInterval(intervalId)\n        }\n    }, 1000);\n    \n}\n\nconst spanDays = document.querySelector('[data-days]');\nconst spanHours = document.querySelector('[data-hours]');\nconst spanMinutes = document.querySelector('[data-minutes]');\nconst spanSeconds = document.querySelector('[data-seconds]');\n\n\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day).toString().padStart(2,'0');\n    const hours = Math.floor((ms % day) / hour).toString().padStart(2,'0');\n    const minutes = Math.floor(((ms % day) % hour) / minute).toString().padStart(2,'0');\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second).toString().padStart(2,'0');\n\n    spanDays.textContent = `${days}`;\n    spanHours.textContent = `${hours}`;\n    spanMinutes.textContent = `${minutes}`;\n    spanSeconds.textContent = `${seconds}`;\n}\n "],"names":["userSelectedDate","options","selectedDates","inactiveStartBtn","iziToast","startBtn","flatpickr","timer","input","intervalId","endTimer","startTimer","stopTimer","convertMs","spanDays","spanHours","spanMinutes","spanSeconds","ms","days","hours","minutes","seconds"],"mappings":"+IASA,IAAIA,EAAmB,KAEvB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAEf,KAAK,IAAG,GAAMA,EAAc,CAAC,GAC7BC,EAAkB,EAClBC,EAAS,MAAM,CACX,QAAS,qCACT,SAAU,YACV,MAAO,MACP,aAAc,QACd,MAAO,GACP,QAAS,IACT,YAAa,EAC7B,CAAa,IAGDC,EAAS,MAAM,gBAAkB,UACjCA,EAAS,MAAM,MAAQ,OACvBA,EAAS,MAAM,cAAgB,OAC/BL,EAAmBE,EAAc,CAAC,EAClCG,EAAS,SAAW,GAE3B,CAEL,EAEAC,EAAU,mBAAoBL,CAAO,EAIrC,MAAMI,EAAW,SAAS,cAAc,oBAAoB,EAC5DA,EAAS,iBAAiB,QAASE,CAAK,EACxC,MAAMC,EAAQ,SAAS,cAAc,kBAAkB,EAGvD,SAASL,GAAmB,CACxBE,EAAS,MAAM,gBAAkB,UACjCA,EAAS,MAAM,MAAQ,UACvBA,EAAS,MAAM,cAAgB,MACnC,CAGA,IAAII,EAAa,KAEjB,SAASF,GAAQ,CACbJ,EAAkB,EAClBK,EAAM,SAAW,GACjB,IAAIE,EAAWV,EAAiB,UAC5BW,EAAa,KAAK,MAClBC,EAAYF,EAAWC,EAC3BF,EAAa,YAAY,IAAM,CAC3BG,GAAa,IACbC,EAAUD,CAAS,EACfA,EAAY,MAChBR,EAAS,MAAM,CACX,QAAS,qBACT,SAAU,YACV,MAAO,QACP,aAAc,QACd,MAAO,GACP,QAAS,IACT,YAAa,EACzB,CAAS,EACG,cAAcK,CAAU,EAE/B,EAAE,GAAI,CAEX,CAEA,MAAMK,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAI3D,SAASJ,EAAUK,EAAI,CAMnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAAE,WAAW,SAAS,EAAE,GAAG,EACrDE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAAE,SAAQ,EAAG,SAAS,EAAE,GAAG,EAC/DG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAAE,SAAU,EAAC,SAAS,EAAE,GAAG,EAC5EI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAAE,SAAQ,EAAG,SAAS,EAAE,GAAG,EAE7FJ,EAAS,YAAc,GAAGK,CAAI,GAC9BJ,EAAU,YAAc,GAAGK,CAAK,GAChCJ,EAAY,YAAc,GAAGK,CAAO,GACpCJ,EAAY,YAAc,GAAGK,CAAO,EACxC"}